<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>flow on maiatoday</title><link>https://www.maiatoday.net/tags/flow/</link><description>Recent content in flow on maiatoday</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 17 Jul 2023 19:18:36 +0200</lastBuildDate><atom:link href="https://www.maiatoday.net/tags/flow/index.xml" rel="self" type="application/rss+xml"/><item><title>Swampy Refactor: Converting Otto Bus to Flows</title><link>https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/</link><pubDate>Mon, 17 Jul 2023 19:18:36 +0200</pubDate><guid>https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/</guid><description>&lt;img src="https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/swampyBus.png" alt="Featured image of post Swampy Refactor: Converting Otto Bus to Flows" />&lt;h2 id="the-story-starts">The story starts&lt;/h2>
&lt;p>I was wandering around my day job&amp;rsquo;s code base and I happened on a time capsule - a pristine Java Activity studded with semi-colons, a snapshot of how we built things in 2014. All the member variables started with &lt;code>m&lt;/code> and there was plenty of logic to update the screen and dictate actions. Despite being old, it&amp;rsquo;s still used every day by users. Why would I change it?&lt;/p>
&lt;h2 id="the-bus-disappears">The Bus disappears&lt;/h2>
&lt;p>Well, it got its data from a subscription to the Otto Bus. Otto Bus was deprecated in 2016.
&lt;img src="https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/deprecatedOttoBus.png"
width="2282"
height="588"
srcset="https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/deprecatedOttoBus_hu9057e51fe939aab19a768d0710b7353e_248493_480x0_resize_box_3.png 480w, https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/deprecatedOttoBus_hu9057e51fe939aab19a768d0710b7353e_248493_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Deprecated Otto Bus"
class="gallery-image"
data-flex-grow="388"
data-flex-basis="931px"
>
A blog post suggested migrating to RxJava, but since our code base standard now involves coroutines, Flows, and in some cases, LiveData, I decided to remove deprecated libraries and complete the partial migrations we started some time ago.&lt;/p>
&lt;p>This blog post summarizes how to migrate from Otto Bus to Flow.&lt;/p>
&lt;p>I&amp;rsquo;ve also created a &lt;a class="link" href="https://github.com/maiatoday/Pocket8Ball" target="_blank" rel="noopener"
>Git repo&lt;/a> with a simplified example that uses Otto Bus, with a conversion to Flow in the commit history. Check out the &lt;code>otto-bus&lt;/code> tag for the working Otto Bus version and the &lt;code>flow&lt;/code> tag for the converted Flow version. I am sparing you the Java to Kotlin conversions. This toy app lets you tap on the 8 ball for a message. It uses Otto Bus to notify the 8 Ball that a new message is needed as well as when a new message is availble.&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/eightball.png"
width="300"
height="633"
srcset="https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/eightball_hu7aa8f8e31919029b25b3982f4a9014b9_57421_480x0_resize_box_3.png 480w, https://www.maiatoday.net/p/swampy-refactor-converting-otto-bus-to-flows/eightball_hu7aa8f8e31919029b25b3982f4a9014b9_57421_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Pocket 8 Ball"
class="gallery-image"
data-flex-grow="47"
data-flex-basis="113px"
>&lt;/p>
&lt;h2 id="how-to-tackle-the-migration---step-by-step">How to tackle the migration - step by step&lt;/h2>
&lt;p>Here are the basic steps for this kind of migration:&lt;/p>
&lt;ol>
&lt;li>Pick one &lt;strong>event&lt;/strong>&lt;/li>
&lt;li>Find All the &lt;strong>producers&lt;/strong> of this event (hopefully, there is only one but don&amp;rsquo;t count on it)&lt;/li>
&lt;li>Replace with compatible &lt;strong>functionality&lt;/strong>. We&amp;rsquo;ll look at how to choose compatible functionality in the next section. Things will be broken.&lt;/li>
&lt;li>Find all &lt;strong>subscribers&lt;/strong> of this event by looking for &lt;code>@Subscribe&lt;/code> annotations. Replace with a matching access mechanism. Things should work at this point.&lt;/li>
&lt;li>&lt;strong>Test&lt;/strong> that everything that used this one event still works&lt;/li>
&lt;li>&lt;strong>Repeat&lt;/strong> with the next event until there are no events left to migrate&lt;/li>
&lt;li>&lt;strong>Remove&lt;/strong> the Otto bus and it&amp;rsquo;s dependencies&lt;/li>
&lt;li>&lt;strong>Celebrate!&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>Of course this looks deceptively simple. As simple as it is to add otto bus to a code base. It may require some architectural refactors and modifications of how the dependency injection works in your app. Also if you were using otto bus to drive navigation, a Flow is not the right solution. I suspect the swamp you find yourself in is larger, deaper and much much more tangled. To this I would say, I hold you in my thoughts and I hope you have tests.&lt;/p>
&lt;h2 id="why-is-the-bus-in-the-app">Why is the bus in the app&lt;/h2>
&lt;p>I do have some advice on choosing an alternative implementation. It depends on why the otto bus was introduced in the app in the first place. The thing to understand is that the event bus pattern allows multiple producers to drop events into the bus from all over the app. On the other side of the bus any number of subscribers can wait for a particular event without knowing the origin of the event. This &lt;em>extreme loose coupling&lt;/em> is handy however it means&lt;/p>
&lt;ul>
&lt;li>nothing is stopping you from coding up something unmaintainable&lt;/li>
&lt;li>in large projects it is difficult to follow the logic&lt;/li>
&lt;li>it is difficult to write tests&lt;/li>
&lt;/ul>
&lt;p>For each of the events in your case ask yourself these questions.&lt;/p>
&lt;h3 id="async-observable-state">Async observable state&lt;/h3>
&lt;p>Was the bus used to observe a state in an asynchronous way? If this is the case, you can replace the bus with an observer pattern using a StateFlow. The producer and subscriber will be more tightly coupled but you will get cognitive support from clearer architecture. You will also get some IDE support and autocomplete to help you. You will need to look at the architecture or the dependency injection to make sure the subscriber has access to the producer so it can collect the StateFlow.&lt;/p>
&lt;h3 id="synchronous-notification">Synchronous notification&lt;/h3>
&lt;p>Was the bus to notify one area in the code that something happened elsewhere? If this is synchronous then a simple method call may suffice. Again you will need to look at the architecture or the dependency injection to make sure the subscriber state has access to the producer so it can collect the StateFlow. Wrapping producer classes in interfaces will make testing this code easier.&lt;/p>
&lt;h3 id="i-really-really-really-need-a-bus">I really really really need a bus&lt;/h3>
&lt;p>If the bus was legitimately used because you have many places in the app that need to respond to an event, you can recreate the bus functionality with a singleton and a SharedFlow. Inject the Bus into all the classes that need it and provide the SharedFlow from the injected class. Then subscribers can &lt;code>collectLatest&lt;/code> on the &lt;code>SharedFlow&lt;/code> and filter for the events they are interested in. Provide a method to emit something on the bus. There is a &lt;a class="link" href="https://github.com/maiatoday/Pocket8Ball/blob/flow-bus/app/src/main/java/net/maiatoday/pocket8ball/di/BusModule.kt" target="_blank" rel="noopener"
>branch in the sample repo&lt;/a> with a simple implementation of this.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">interface&lt;/span> &lt;span class="nc">FlowBus&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">bus&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">SharedFlow&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">BusEvent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">suspend&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">post&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BusEvent&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">object&lt;/span> &lt;span class="nc">BusModule&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">FlowBus&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">private&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">_bus&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">MutableSharedFlow&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">BusEvent&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="n">replay&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">bus&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">SharedFlow&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">BusEvent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">get&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">_bus&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">suspend&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">post&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BusEvent&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_bus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The BusEvent is a sealed class.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">sealed&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">BusEvent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">data&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">MessageFromTheAether&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="py">answer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">BusEvent&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">object&lt;/span> &lt;span class="nc">ShakeItUp&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">BusEvent&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="none-of-this-will-work-for-me">None of this will work for me&lt;/h3>
&lt;p>You can always resort to using a &lt;a class="link" href="https://developer.android.com/guide/components/broadcasts" target="_blank" rel="noopener"
>Broadcast receiver&lt;/a> to send a message from one part of your app to another. One thing to note if you go this route is that you will only be able to use this solution in the Android app and not in shared Kotlin only modules.&lt;/p>
&lt;h2 id="example-in-the-repo---easy-swap-to-stateflow">Example in the repo - Easy swap to StateFlow&lt;/h2>
&lt;p>For my toy example the producer that emits data is the Magic8Ball. Instead of posting an event on the bus, make the data available in a StateFlow.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nc">BusModule&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">bus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">post&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MessageFromeTheAether&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">latestMessage&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>is replaced with&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">_answer&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">MutableStateFlow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">answer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">StateFlow&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">get&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">_answer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">asStateFlow&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// and then later when a new message is needed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">_answer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">value&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">latestMessage&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In my example the subscriber of the data is the ViewModel.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Subscribe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">revealAnswer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">MessageFromeTheAether&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_uiState&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">value&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Reveal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">answer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>is replaced with this snippet in typically the init block of the view model&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">viewModelScope&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">launch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">eightBall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">answer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">collect&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">answer&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_uiState&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">value&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Reveal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">answer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Here is the matching video showing all the code changes.&lt;/p>
&lt;div class="video-wrapper">
&lt;iframe loading="lazy"
src="https://www.youtube.com/embed/9Si5dU9mnv0"
allowfullscreen
title="YouTube Video"
>
&lt;/iframe>
&lt;/div></description></item><item><title>Flow Notes</title><link>https://www.maiatoday.net/p/flow-notes/</link><pubDate>Wed, 27 Apr 2022 18:16:06 +0200</pubDate><guid>https://www.maiatoday.net/p/flow-notes/</guid><description>&lt;img src="https://www.maiatoday.net/p/flow-notes/flowNotes.jpg" alt="Featured image of post Flow Notes" />&lt;p>This post is my companion sketch notes for all the resources I consumed on the topic of flows. It is not meant to replace the info that I found on the internet but rather supplement it. Nor is it complete or should it be a standalone guide. In fact you can find an excellent list of my favourite resources at the end of the article. It is a document that helps me make sense of the topic. With that disclaimer out of the way&amp;hellip;&lt;/p>
&lt;p>Let&amp;rsquo;s take a step back and look at the suspend function. If your coroutine knowledge is rusty, &lt;a class="link" href="https://kotlinlang.org/docs/coroutines-overview.html" target="_blank" rel="noopener"
>freshen&lt;/a> that up &lt;a class="link" href="https://www.youtube.com/watch?v=_hfBv0a09Jc" target="_blank" rel="noopener"
>first&lt;/a>.&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/suspend.jpg"
width="1200"
height="2000"
srcset="https://www.maiatoday.net/p/flow-notes/suspend_hu1185bcefcf5096a6d884c061039b1c27_174873_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/suspend_hu1185bcefcf5096a6d884c061039b1c27_174873_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Coroutines suspend"
class="gallery-image"
data-flex-grow="60"
data-flex-basis="144px"
>&lt;/p>
&lt;p>What if we want to provide multiple values? A stream of values that can be observed? Enter flows. At their most basic, flows have a &lt;strong>producer&lt;/strong> and a &lt;strong>consumer&lt;/strong>.&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/produceConsume.jpg"
width="2000"
height="1200"
srcset="https://www.maiatoday.net/p/flow-notes/produceConsume_hu75aacf23d10378baf8dc80c592464e56_299469_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/produceConsume_hu75aacf23d10378baf8dc80c592464e56_299469_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Producers and Consumers"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;p>The interface looks like this (spoiler it&amp;rsquo;s just &lt;strong>suspend&lt;/strong> functions under the hood)&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/romanSaysSuspend.png"
width="2194"
height="1048"
srcset="https://www.maiatoday.net/p/flow-notes/romanSaysSuspend_hub60c17c57278bce1abfe720fee73fa6b_598979_480x0_resize_box_3.png 480w, https://www.maiatoday.net/p/flow-notes/romanSaysSuspend_hub60c17c57278bce1abfe720fee73fa6b_598979_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Flow Interface: Roman says no magic only suspend functions"
class="gallery-image"
data-flex-grow="209"
data-flex-basis="502px"
>&lt;/p>
&lt;p>The consumer gets the &lt;strong>multiple values&lt;/strong> by using a &lt;strong>terminal operator&lt;/strong>.&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/terminal.jpg"
width="2000"
height="1200"
srcset="https://www.maiatoday.net/p/flow-notes/terminal_hu899f59d0b470481501d36733cfd16c9d_155013_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/terminal_hu899f59d0b470481501d36733cfd16c9d_155013_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Terminal operators"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;p>If I need to change the produced values along the way before consuming them, there are &lt;strong>transform&lt;/strong> operators.&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/transform.jpg"
width="2000"
height="1200"
srcset="https://www.maiatoday.net/p/flow-notes/transform_hu1ea9766f6792fef7fdb174fb86fc15ae_242239_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/transform_hu1ea9766f6792fef7fdb174fb86fc15ae_242239_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Transform operators"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;p>How do I switch from main to io context?&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/context.jpg"
width="2000"
height="1200"
srcset="https://www.maiatoday.net/p/flow-notes/context_hu100fa2a990b1914ffcb611f6eb4b86d7_246218_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/context_hu100fa2a990b1914ffcb611f6eb4b86d7_246218_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Context preserve"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;p>What&amp;rsquo;s with the hot and cold flows? How do I remember which is which?&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/coldHot.jpg"
width="2000"
height="1200"
srcset="https://www.maiatoday.net/p/flow-notes/coldHot_huea9bedfa3f89e91ebac399342b429cbb_159678_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/coldHot_huea9bedfa3f89e91ebac399342b429cbb_159678_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Hot and Cold flows"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;p>Some practical hot flows.&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/hotFlow.jpg"
width="2000"
height="1200"
srcset="https://www.maiatoday.net/p/flow-notes/hotFlow_hu5041d04a1459973c49c0a7d3e3955aac_184124_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/hotFlow_hu5041d04a1459973c49c0a7d3e3955aac_184124_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="state and shared flows"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;p>Flows on Android&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/slowAndroid.jpg"
width="2000"
height="1200"
srcset="https://www.maiatoday.net/p/flow-notes/slowAndroid_hu8bb6f4a18fa7d746a66783dd72b4fedd_183234_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/slowAndroid_hu8bb6f4a18fa7d746a66783dd72b4fedd_183234_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="flows on Android"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;h1 id="references">References&lt;/h1>
&lt;p>&lt;a class="link" href="https://proandroiddev.com/kotlin-coroutines-flow-in-a-nutshell-90399fc9aed7" target="_blank" rel="noopener"
>Kotlin Coroutines Flow in a nutshell&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://rvbsoftdev.medium.com/kotlin-flows-an-android-cheat-sheet-d71ae772030d" target="_blank" rel="noopener"
>Kotlin Flows ~ an Android cheat sheet&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://proandroiddev.com/kotlin-flows-in-android-summary-8e092040fb3a" target="_blank" rel="noopener"
>Kotlin Flows in Android summary&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://developer.android.com/kotlin/flow" target="_blank" rel="noopener"
>Android flow&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://kotlinlang.org/docs/flow.html#flows" target="_blank" rel="noopener"
>Asynchronous Flow | Kotlin&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://kt.academy/article/how-flow-works" target="_blank" rel="noopener"
>Flow under the hood: how does it really work&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=tYcqn48SMT8" target="_blank" rel="noopener"
>KotlinConf 2019: Asynchronous Data Streams with Kotlin Flow by Roman Elizarov&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=B_3iTVJT8Zs" target="_blank" rel="noopener"
>Kotlin Flows in a Nutshell&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://flowmarbles.com/" target="_blank" rel="noopener"
>FlowMarbles&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://developer.android.com/kotlin/flow/stateflow-and-sharedflow" target="_blank" rel="noopener"
>Android StateFlow and SharedFlow&lt;/a>&lt;/p>
&lt;p>If you are reading this far I will reward you with an Android portait.&lt;/p>
&lt;p>&lt;img src="https://www.maiatoday.net/p/flow-notes/android.jpg"
width="724"
height="857"
srcset="https://www.maiatoday.net/p/flow-notes/android_hu6329e6160bea524cd6bae62eeb951566_56502_480x0_resize_q75_box.jpg 480w, https://www.maiatoday.net/p/flow-notes/android_hu6329e6160bea524cd6bae62eeb951566_56502_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Android"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="202px"
>&lt;/p></description></item></channel></rss>